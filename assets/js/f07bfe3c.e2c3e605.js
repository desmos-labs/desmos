"use strict";(self.webpackChunkdesmos_docs=self.webpackChunkdesmos_docs||[]).push([[29250],{3905:(e,t,s)=>{s.d(t,{Zo:()=>u,kt:()=>m});var r=s(67294);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function a(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var i=r.createContext({}),p=function(e){var t=r.useContext(i),s=t;return e&&(s="function"==typeof e?e(t):l(l({},t),e)),s},u=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var s=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=p(s),m=n,f=d["".concat(i,".").concat(m)]||d[m]||c[m]||o;return s?r.createElement(f,l(l({ref:t},u),{},{components:s})):r.createElement(f,l({ref:t},u))}));function m(e,t){var s=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=s.length,l=new Array(o);l[0]=d;var a={};for(var i in t)hasOwnProperty.call(t,i)&&(a[i]=t[i]);a.originalType=e,a.mdxType="string"==typeof e?e:n,l[1]=a;for(var p=2;p<o;p++)l[p]=s[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,s)}d.displayName="MDXCreateElement"},91977:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>u});s(67294);var r=s(3905);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},n.apply(this,arguments)}function o(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}const l={id:"state",title:"State",sidebar_label:"State",slug:"state"},a="State",i={unversionedId:"developers/modules/posts/state",id:"developers/modules/posts/state",title:"State",description:"Next Post ID",source:"@site/docs/02-developers/02-modules/posts/03-state.md",sourceDirName:"02-developers/02-modules/posts",slug:"/developers/modules/posts/state",permalink:"/developers/modules/posts/state",draft:!1,editUrl:"https://github.com/desmos-labs/desmos/tree/master/docs/docs/02-developers/02-modules/posts/03-state.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"state",title:"State",sidebar_label:"State",slug:"state"},sidebar:"docs",previous:{title:"Concepts",permalink:"/developers/modules/posts/concepts"},next:{title:"Messages",permalink:"/developers/modules/posts/messages"}},p={},u=[{value:"Next Post ID",id:"next-post-id",level:2},{value:"Post",id:"post",level:2},{value:"Post section",id:"post-section",level:2},{value:"Next Attachment ID",id:"next-attachment-id",level:2},{value:"Attachment",id:"attachment",level:2},{value:"User Answer",id:"user-answer",level:2},{value:"Active poll queue",id:"active-poll-queue",level:2},{value:"Params",id:"params",level:2},{value:"Post owner transfer requests",id:"post-owner-transfer-requests",level:2}],c={toc:u};function d(e){var{components:t}=e,s=o(e,["components"]);return(0,r.kt)("wrapper",n({},c,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",n({},{id:"state"}),"State"),(0,r.kt)("h2",n({},{id:"next-post-id"}),"Next Post ID"),(0,r.kt)("p",null,"The next post id is stored tied to the subspace to which it refers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x00 | Subspace ID | ->  bytes(NextPostID)"))),(0,r.kt)("h2",n({},{id:"post"}),"Post"),(0,r.kt)("p",null,"A post is stored using the subspace id and its id as the key. This allows to easily query:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"all the posts of a given subspace;"),(0,r.kt)("li",{parentName:"ul"},"a specific post of a given subspace.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x01 | Subspace ID | Post ID | -> ProtocolBuffer(Post)")," ")),(0,r.kt)("h2",n({},{id:"post-section"}),"Post section"),(0,r.kt)("p",null,"The section in which a post is placed is stored to enable the possibility of querying posts for a particular subspace's section:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x02 | Subspace ID | Section ID | Post ID | -> 0x01"))),(0,r.kt)("h2",n({},{id:"next-attachment-id"}),"Next Attachment ID"),(0,r.kt)("p",null,"The next attachment id is stored tied to the subspace id and the post id to which it refers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x10 | Subspace ID | Post ID | -> bytes(NextAttachmentID)"))),(0,r.kt)("h2",n({},{id:"attachment"}),"Attachment"),(0,r.kt)("p",null,"A post attachment is stored using the subspace id, post id and its id as the key. This allows to easily query all the posts' attachments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x11 | SubspaceID | PostID | Attachment ID | -> ProtocolBuffer(Attachment)"))),(0,r.kt)("h2",n({},{id:"user-answer"}),"User Answer"),(0,r.kt)("p",null,"A user answer to a poll is stored using the subspace id, post id and poll id as the key. This allows to easily query all the answers of a specific poll:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x20 | Subspace ID | Post ID | Poll ID | -> ProtocolBuffer(UserAnswer)"))),(0,r.kt)("h2",n({},{id:"active-poll-queue"}),"Active poll queue"),(0,r.kt)("p",null,"Active polls are stored using the voting end time, subspace id, post id and poll id as the key. This allows to determine, at each block height, which polls should have their results tallied:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x21 | End Time | Subspace ID | Post ID | Poll ID | -> bytes(PollID)"))),(0,r.kt)("h2",n({},{id:"params"}),"Params"),(0,r.kt)("p",null,"The posts module params are stored using a simple prefix: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x30 | -> ProtocolBuffer(Params)"))),(0,r.kt)("h2",n({},{id:"post-owner-transfer-requests"}),"Post owner transfer requests"),(0,r.kt)("p",null,"The post owner transfer requests are stored using the subspace id and post id. This allows to easily query the post owner transfer request of a specific post:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"0x40 | Subspace ID | Post ID | -> ProtocolBuffer(PostOwnerTransferRequest)"))))}d.isMDXComponent=!0}}]);